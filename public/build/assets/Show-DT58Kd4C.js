import{u as h,g as d,a as l,b as o,h as S,w as p,d as s,o as a,t as g,i as b,e as w,j as A,m as $,f as x,F as _,p as B,l as y,c as N,s as T}from"./app-Ddt-lez-.js";import{_ as j}from"./AuthenticatedLayout-CGDqgM5V.js";import{_ as c,a as f}from"./TextInput-CP6oQnpi.js";import{P as V}from"./PrimaryButton-CE1N9fqN.js";import"./ApplicationLogo-D-MFBTFe.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"flex justify-between items-center"},L={class:"py-12"},F={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},P={class:"bg-white p-6 shadow sm:rounded-lg relative"},q={key:1},D={class:"flex gap-6"},R={class:"w-1/4"},I=["src"],M={key:1,class:"w-full h-32 bg-gray-200 flex items-center justify-center rounded text-gray-400"},O={class:"w-3/4 pr-20"},G={class:"text-2xl font-bold text-gray-900"},Y={class:"text-green-600 font-bold text-lg mb-2"},z={class:"text-gray-600 whitespace-pre-line"},H={key:0,class:"mt-4 text-sm text-gray-500"},J={key:2},K={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Q={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},W={class:"flex justify-end pt-4 border-t"},X={class:"bg-white p-6 shadow sm:rounded-lg"},Z={key:0,class:"text-gray-400 italic py-4 text-center"},ee={key:1,class:"space-y-3"},se={class:"flex items-center"},te={class:"bg-indigo-100 text-indigo-800 font-bold py-1 px-2 rounded text-xs mr-3"},oe={class:"text-gray-700 font-medium"},le={class:"flex items-center gap-3"},re={key:0,class:"bg-white p-6 shadow sm:rounded-lg border-l-4 border-indigo-500"},ae={class:"flex-grow min-w-[200px]"},de={class:"flex-grow min-w-[200px]"},ie={class:"w-24"},fe={__name:"Show",props:{course:Object},setup(r){const m=r,v=T(!1),i=h({_method:"PUT",title:m.course.title,description:m.course.description,price:m.course.price,video_url:m.course.video_url,image:null}),k=()=>{i.post(route("courses.update",m.course.id),{onSuccess:()=>{v.value=!1}})},u=h({title:"",video_url:"",position:m.course.lessons.length+1}),C=()=>{u.post(route("courses.lessons.store",m.course.id),{onSuccess:()=>u.reset()})},U=n=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(n);return(n,e)=>(a(),d(_,null,[l(o(S),{title:r.course.title},null,8,["title"]),l(j,null,{header:p(()=>[s("div",E,[e[10]||(e[10]=s("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," GestÃ£o do Curso ",-1)),l(o(y),{href:n.route("courses.index"),class:"text-gray-500 hover:text-gray-700 text-sm"},{default:p(()=>[...e[9]||(e[9]=[x(" â† Voltar para CatÃ¡logo ",-1)])]),_:1},8,["href"])])]),default:p(()=>[s("div",L,[s("div",F,[s("div",P,[n.$page.props.auth.user.is_admin?(a(),d("button",{key:0,onClick:e[0]||(e[0]=t=>v.value=!v.value),class:"absolute top-6 right-6 text-sm text-blue-600 hover:text-blue-800 border border-blue-200 bg-blue-50 px-3 py-1 rounded transition"},g(v.value?"Cancelar EdiÃ§Ã£o âœ•":"Editar Dados do Curso âœ"),1)):b("",!0),v.value?(a(),d("div",J,[s("form",{onSubmit:w(k,["prevent"]),class:"space-y-4"},[s("div",K,[s("div",null,[l(c,{value:"TÃ­tulo"}),l(f,{modelValue:o(i).title,"onUpdate:modelValue":e[1]||(e[1]=t=>o(i).title=t),class:"w-full",required:""},null,8,["modelValue"])]),s("div",null,[l(c,{value:"PreÃ§o (R$)"}),l(f,{modelValue:o(i).price,"onUpdate:modelValue":e[2]||(e[2]=t=>o(i).price=t),type:"number",step:"0.01",class:"w-full",required:""},null,8,["modelValue"])])]),s("div",null,[l(c,{value:"DescriÃ§Ã£o"}),A(s("textarea",{"onUpdate:modelValue":e[3]||(e[3]=t=>o(i).description=t),class:"w-full border-gray-300 rounded shadow-sm",rows:"4"},null,512),[[$,o(i).description]])]),s("div",Q,[s("div",null,[l(c,{value:"VÃ­deo de Vendas (URL)"}),l(f,{modelValue:o(i).video_url,"onUpdate:modelValue":e[4]||(e[4]=t=>o(i).video_url=t),class:"w-full"},null,8,["modelValue"])]),s("div",null,[l(c,{value:"Trocar Capa (Opcional)"}),s("input",{type:"file",onInput:e[5]||(e[5]=t=>o(i).image=t.target.files[0]),class:"block w-full text-sm text-gray-500 mt-1"},null,32)])]),s("div",W,[l(V,{disabled:o(i).processing},{default:p(()=>[...e[11]||(e[11]=[x("Salvar AlteraÃ§Ãµes do Curso",-1)])]),_:1},8,["disabled"])])],32)])):(a(),d("div",q,[s("div",D,[s("div",R,[r.course.image_url?(a(),d("img",{key:0,src:r.course.image_url,class:"w-full rounded shadow-sm"},null,8,I)):(a(),d("div",M,"Sem Capa"))]),s("div",O,[s("h3",G,g(r.course.title),1),s("p",Y,g(parseFloat(r.course.price)===0?"Gratuito":U(r.course.price)),1),s("p",z,g(r.course.description),1),r.course.video_url?(a(),d("div",H," ðŸŽ¥ VÃ­deo de apresentaÃ§Ã£o configurado. ")):b("",!0)])])]))]),s("div",X,[e[14]||(e[14]=s("h3",{class:"text-lg font-bold mb-4 border-b pb-2"},"ConteÃºdo / Aulas",-1)),r.course.lessons.length===0?(a(),d("div",Z," Nenhuma aula cadastrada ainda. Use o formulÃ¡rio abaixo para comeÃ§ar. ")):(a(),d("ul",ee,[(a(!0),d(_,null,B(r.course.lessons,t=>(a(),d("li",{key:t.id,class:"flex items-center justify-between bg-gray-50 p-3 rounded border hover:bg-gray-100 transition"},[s("div",se,[s("span",te," #"+g(t.position),1),s("span",oe,g(t.title),1)]),s("div",le,[l(o(y),{href:n.route("lessons.show",[r.course.id,t.id]),class:"text-gray-500 hover:text-indigo-600 text-sm flex items-center gap-1"},{default:p(()=>[...e[12]||(e[12]=[s("span",null,"â–¶",-1),x(" Assistir ",-1)])]),_:1},8,["href"]),n.$page.props.auth.user.is_admin?(a(),N(o(y),{key:0,href:n.route("lessons.edit",[r.course.id,t.id]),class:"text-xs bg-white border border-gray-300 hover:bg-gray-50 text-gray-700 px-3 py-1 rounded shadow-sm"},{default:p(()=>[...e[13]||(e[13]=[x(" Editar Aula ",-1)])]),_:1},8,["href"])):b("",!0)])]))),128))]))]),n.$page.props.auth.user.is_admin?(a(),d("div",re,[e[16]||(e[16]=s("h3",{class:"text-lg font-bold mb-4 text-gray-800"},"+ Adicionar Nova Aula",-1)),s("form",{onSubmit:w(C,["prevent"]),class:"flex gap-4 items-end flex-wrap"},[s("div",ae,[l(c,{value:"TÃ­tulo da Aula"}),l(f,{modelValue:o(u).title,"onUpdate:modelValue":e[6]||(e[6]=t=>o(u).title=t),class:"w-full",required:"",placeholder:"Ex: IntroduÃ§Ã£o ao MÃ³dulo"},null,8,["modelValue"])]),s("div",de,[l(c,{value:"Link do VÃ­deo (YouTube)"}),l(f,{modelValue:o(u).video_url,"onUpdate:modelValue":e[7]||(e[7]=t=>o(u).video_url=t),class:"w-full",required:"",placeholder:"https://youtube.com/..."},null,8,["modelValue"])]),s("div",ie,[l(c,{value:"Ordem"}),l(f,{modelValue:o(u).position,"onUpdate:modelValue":e[8]||(e[8]=t=>o(u).position=t),type:"number",class:"w-full"},null,8,["modelValue"])]),l(V,{disabled:o(u).processing},{default:p(()=>[...e[15]||(e[15]=[x(" Salvar Aula ",-1)])]),_:1},8,["disabled"])],32)])):b("",!0)])])]),_:1})],64))}};export{fe as default};
