import{u as h,g as i,a as o,b as l,h as E,w as m,d as s,o as a,t as g,i as b,e as w,j as S,m as T,f,F as _,s as B,l as y,c as N,r as $,p as j}from"./app-Bt2QqfSB.js";import{_ as D}from"./AuthenticatedLayout-2ryZSCk1.js";import{_ as p,a as v}from"./TextInput-efkXp9O5.js";import{P as V}from"./PrimaryButton-C5S6my0a.js";import{D as L}from"./DangerButton-DygCXfly.js";import"./ApplicationLogo-DbcXEH8i.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const q={class:"flex justify-between items-center"},F={class:"py-12"},P={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},I={class:"bg-white p-6 shadow sm:rounded-lg relative"},O={key:1},R={class:"flex gap-6"},M={class:"w-1/4"},G=["src"],z={key:1,class:"w-full h-32 bg-gray-200 flex items-center justify-center rounded text-gray-400"},Y={class:"w-3/4 pr-20"},H={class:"text-2xl font-bold text-gray-900"},J={class:"text-green-600 font-bold text-lg mb-2"},K={class:"text-gray-600 whitespace-pre-line"},Q={key:0,class:"mt-4 text-sm text-gray-500"},W={key:2},X={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Z={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ee={class:"flex justify-between items-center pt-4 border-t mt-4"},se={class:"bg-white p-6 shadow sm:rounded-lg"},te={key:0,class:"text-gray-400 italic py-4 text-center"},oe={key:1,class:"space-y-3"},le={class:"flex items-center"},re={class:"bg-indigo-100 text-indigo-800 font-bold py-1 px-2 rounded text-xs mr-3"},ae={class:"text-gray-700 font-medium"},ie={class:"flex items-center gap-3"},de={key:0,class:"bg-white p-6 shadow sm:rounded-lg border-l-4 border-indigo-500"},ue={class:"flex-grow min-w-[200px]"},ne={class:"flex-grow min-w-[200px]"},ce={class:"w-24"},ye={__name:"Show",props:{course:Object},setup(r){const n=r,x=$(!1),d=h({_method:"PUT",title:n.course.title,description:n.course.description,price:n.course.price,video_url:n.course.video_url,image:null}),k=()=>{d.post(route("courses.update",n.course.id),{onSuccess:()=>{x.value=!1}})},C=()=>{confirm(`ATENÃ‡ÃƒO: Tem certeza que deseja excluir este curso?

Isso apagarÃ¡ todas as aulas e removerÃ¡ o acesso dos alunos matriculados.

Esta aÃ§Ã£o nÃ£o pode ser desfeita.`)&&j.delete(route("courses.destroy",n.course.id))},u=h({title:"",video_url:"",position:n.course.lessons.length+1}),U=()=>{u.post(route("courses.lessons.store",n.course.id),{onSuccess:()=>u.reset()})},A=c=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c);return(c,e)=>(a(),i(_,null,[o(l(E),{title:r.course.title},null,8,["title"]),o(D,null,{header:m(()=>[s("div",q,[e[10]||(e[10]=s("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," GestÃ£o do Curso ",-1)),o(l(y),{href:c.route("courses.index"),class:"text-gray-500 hover:text-gray-700 text-sm"},{default:m(()=>[...e[9]||(e[9]=[f(" â† Voltar para CatÃ¡logo ",-1)])]),_:1},8,["href"])])]),default:m(()=>[s("div",F,[s("div",P,[s("div",I,[c.$page.props.auth.user.is_admin?(a(),i("button",{key:0,onClick:e[0]||(e[0]=t=>x.value=!x.value),class:"absolute top-6 right-6 text-sm text-blue-600 hover:text-blue-800 border border-blue-200 bg-blue-50 px-3 py-1 rounded transition"},g(x.value?"Cancelar EdiÃ§Ã£o âœ•":"Editar Dados do Curso âœ"),1)):b("",!0),x.value?(a(),i("div",W,[s("form",{onSubmit:w(k,["prevent"]),class:"space-y-4"},[s("div",X,[s("div",null,[o(p,{value:"TÃ­tulo"}),o(v,{modelValue:l(d).title,"onUpdate:modelValue":e[1]||(e[1]=t=>l(d).title=t),class:"w-full",required:""},null,8,["modelValue"])]),s("div",null,[o(p,{value:"PreÃ§o (R$)"}),o(v,{modelValue:l(d).price,"onUpdate:modelValue":e[2]||(e[2]=t=>l(d).price=t),type:"number",step:"0.01",class:"w-full",required:""},null,8,["modelValue"])])]),s("div",null,[o(p,{value:"DescriÃ§Ã£o"}),S(s("textarea",{"onUpdate:modelValue":e[3]||(e[3]=t=>l(d).description=t),class:"w-full border-gray-300 rounded shadow-sm",rows:"4"},null,512),[[T,l(d).description]])]),s("div",Z,[s("div",null,[o(p,{value:"VÃ­deo de Vendas (URL)"}),o(v,{modelValue:l(d).video_url,"onUpdate:modelValue":e[4]||(e[4]=t=>l(d).video_url=t),class:"w-full"},null,8,["modelValue"])]),s("div",null,[o(p,{value:"Trocar Capa (Opcional)"}),s("input",{type:"file",onInput:e[5]||(e[5]=t=>l(d).image=t.target.files[0]),class:"block w-full text-sm text-gray-500 mt-1"},null,32)])]),s("div",ee,[o(L,{type:"button",onClick:C},{default:m(()=>[...e[11]||(e[11]=[f(" Excluir Curso ",-1)])]),_:1}),o(V,{disabled:l(d).processing},{default:m(()=>[...e[12]||(e[12]=[f(" Salvar AlteraÃ§Ãµes ",-1)])]),_:1},8,["disabled"])])],32)])):(a(),i("div",O,[s("div",R,[s("div",M,[r.course.image_url?(a(),i("img",{key:0,src:r.course.image_url,class:"w-full rounded shadow-sm"},null,8,G)):(a(),i("div",z,"Sem Capa"))]),s("div",Y,[s("h3",H,g(r.course.title),1),s("p",J,g(parseFloat(r.course.price)===0?"Gratuito":A(r.course.price)),1),s("p",K,g(r.course.description),1),r.course.video_url?(a(),i("div",Q," ðŸŽ¥ VÃ­deo de apresentaÃ§Ã£o configurado. ")):b("",!0)])])]))]),s("div",se,[e[15]||(e[15]=s("h3",{class:"text-lg font-bold mb-4 border-b pb-2"},"ConteÃºdo / Aulas",-1)),r.course.lessons.length===0?(a(),i("div",te," Nenhuma aula cadastrada ainda. Use o formulÃ¡rio abaixo para comeÃ§ar. ")):(a(),i("ul",oe,[(a(!0),i(_,null,B(r.course.lessons,t=>(a(),i("li",{key:t.id,class:"flex items-center justify-between bg-gray-50 p-3 rounded border hover:bg-gray-100 transition"},[s("div",le,[s("span",re," #"+g(t.position),1),s("span",ae,g(t.title),1)]),s("div",ie,[o(l(y),{href:c.route("lessons.show",[r.course.id,t.id]),class:"text-gray-500 hover:text-indigo-600 text-sm flex items-center gap-1"},{default:m(()=>[...e[13]||(e[13]=[s("span",null,"â–¶",-1),f(" Assistir ",-1)])]),_:1},8,["href"]),c.$page.props.auth.user.is_admin?(a(),N(l(y),{key:0,href:c.route("lessons.edit",[r.course.id,t.id]),class:"text-xs bg-white border border-gray-300 hover:bg-gray-50 text-gray-700 px-3 py-1 rounded shadow-sm"},{default:m(()=>[...e[14]||(e[14]=[f(" Editar Aula ",-1)])]),_:1},8,["href"])):b("",!0)])]))),128))]))]),c.$page.props.auth.user.is_admin?(a(),i("div",de,[e[17]||(e[17]=s("h3",{class:"text-lg font-bold mb-4 text-gray-800"},"+ Adicionar Nova Aula",-1)),s("form",{onSubmit:w(U,["prevent"]),class:"flex gap-4 items-end flex-wrap"},[s("div",ue,[o(p,{value:"TÃ­tulo da Aula"}),o(v,{modelValue:l(u).title,"onUpdate:modelValue":e[6]||(e[6]=t=>l(u).title=t),class:"w-full",required:"",placeholder:"Ex: IntroduÃ§Ã£o ao MÃ³dulo"},null,8,["modelValue"])]),s("div",ne,[o(p,{value:"Link do VÃ­deo (YouTube)"}),o(v,{modelValue:l(u).video_url,"onUpdate:modelValue":e[7]||(e[7]=t=>l(u).video_url=t),class:"w-full",required:"",placeholder:"https://youtube.com/..."},null,8,["modelValue"])]),s("div",ce,[o(p,{value:"Ordem"}),o(v,{modelValue:l(u).position,"onUpdate:modelValue":e[8]||(e[8]=t=>l(u).position=t),type:"number",class:"w-full"},null,8,["modelValue"])]),o(V,{disabled:l(u).processing},{default:m(()=>[...e[16]||(e[16]=[f(" Salvar Aula ",-1)])]),_:1},8,["disabled"])],32)])):b("",!0)])])]),_:1})],64))}};export{ye as default};
